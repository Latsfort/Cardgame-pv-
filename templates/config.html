<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuration des PV</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <h1>Configuration de la Partie</h1>
        <form method="POST" action="/config">
            <label for="pv_joueur">PV du Joueur :</label>
            <input type="number" id="pv_joueur" name="pv_joueur" value="50" min="1" required>

            <label for="nbr_phases">Nombre de phases du Boss :</label>
            <input type="number" id="nbr_phases" name="nbr_phases" value="1" min="1" required>

            <div id="phases-container"></div>

            <button type="submit">Commencer la Partie</button>
        </form>

        <!-- Sauvegarder le profil -->
        <h2>Sauvegarder ce profil de boss</h2>
        <form method="POST" action="/save_boss_profile">
            <input type="text" name="profile_name" placeholder="Nom du profil" required>
            <button type="submit">Sauvegarder le Profil</button>
        </form>

        <script>
            document.getElementById('nbr_phases').addEventListener('input', function() {
                const nbrPhases = parseInt(this.value);
                const phasesContainer = document.getElementById('phases-container');
                phasesContainer.innerHTML = '';

                for (let i = 1; i <= nbrPhases; i++) {
                    phasesContainer.innerHTML += `
                        <h3>Phase ${i}</h3>
                        <label for="pv_phase_${i}">PV :</label>
                        <input type="number" id="pv_phase_${i}" name="pv_phase_${i}" value="50" min="1" required><br>
                        <label for="atk_phase_${i}">ATK :</label>
                        <input type="number" id="atk_phase_${i}" name="atk_phase_${i}" value="10" min="1" required><br>
                        <label for="def_phase_${i}">DEF :</label>
                        <input type="number" id="def_phase_${i}" name="def_phase_${i}" value="5" min="1" required><br>
                        <label for="nom_phase_${i}">Nom :</label>
                        <input type="text" id="nom_phase_${i}" name="nom_phase_${i}" value="Phase ${i}" required><br>
                    `;
                }
            });
        </script>
    </div>
</body>
</html>
